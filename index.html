<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>é—œæ±8æ—¥ä¹‹æ—… V4.5 (æ•‘æ´ç‰ˆ)</title>
    
    <style>
        body { margin: 0; padding: 0; background-color: #FFF0F5; font-family: sans-serif; }
        #static-loading {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #FFF0F5; z-index: 99999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center;
        }
        .loading-icon { font-size: 50px; animation: spin 2s infinite linear; }
        .loading-text { margin-top: 20px; color: #5D4037; font-weight: bold; font-size: 18px; }
        .error-box { 
            display: none; margin-top: 20px; padding: 15px; background: #ffebee; 
            border: 2px solid #ef5350; color: #c62828; border-radius: 8px; 
            width: 80%; word-break: break-all; font-family: monospace; text-align: left;
        }
        #app { display: none; opacity: 0; transition: opacity 0.5s; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3.3.4/dist/vue.global.prod.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 'chii-pink': '#FFD1DC', 'chii-deep-pink': '#FF9EAC', 'chii-blue': '#A2D2FF', 'chii-yellow': '#FFF5BA', 'chii-text': '#5D4037' },
                    fontFamily: { sans: ['Zen Maru Gothic', 'sans-serif'] },
                    animation: { 'bounce-slow': 'bounce 3s infinite', 'wiggle': 'wiggle 1s ease-in-out infinite' },
                    keyframes: { wiggle: { '0%, 100%': { transform: 'rotate(-3deg)' }, '50%': { transform: 'rotate(3deg)' } } }
                }
            }
        }
    </script>
</head>
<body>

    <div id="static-loading">
        <div class="loading-icon">ğŸŒ¸</div>
        <div class="loading-text">V4.5 ç³»çµ±å•Ÿå‹•ä¸­...</div>
        <div id="debug-area" class="error-box"></div>
        <button onclick="window.location.reload()" style="margin-top:20px; padding:10px 20px; background:#ccc; border:none; border-radius:20px; color:#555;">é‡æ–°æ•´ç†</button>
    </div>

    <script>
        window.onerror = function(msg, url, line, col, error) {
            const box = document.getElementById('debug-area');
            box.style.display = 'block';
            box.innerHTML = `<strong>éŒ¯èª¤åµæ¸¬:</strong><br>${msg}<br>Line: ${line}`;
            document.querySelector('.loading-text').innerText = "å•Ÿå‹•å¤±æ•—";
        };
    </script>

    <div id="app">
        <div v-if="currentView === 'home'" class="fixed inset-0 z-0 h-screen w-screen overflow-hidden">
            <img :src="homeBannerImg" class="w-full h-full object-cover" style="object-position: center bottom;" @error="handleImgError($event, 'banner')">
            <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-[#FFF0F5]"></div>
            
            <div ref="countdownEl" class="fixed z-50 cursor-grab bg-white/90 backdrop-blur border-4 border-chii-pink px-4 py-2 rounded-full shadow-lg flex items-center gap-2" 
                 :style="{ top: countdownPos.y + 'px', left: countdownPos.x + 'px' }" 
                 @touchstart="startDrag" @mousedown="startDrag">
                <div class="text-2xl animate-wiggle">ğŸ¹</div>
                <div class="flex flex-col"><div class="text-[10px] text-gray-500 font-bold uppercase">Countdown</div><div class="text-xl font-black text-pink-500 leading-none">{{ daysUntilTrip }} <span class="text-xs text-gray-400">å¤©</span></div></div>
            </div>

            <div class="absolute inset-0 flex flex-col justify-between pb-8 pt-12 px-6 z-10 pointer-events-none">
                <div class="mt-8 text-white drop-shadow-md text-center pointer-events-auto">
                    <div class="inline-flex items-center gap-2 bg-pink-500/80 backdrop-blur px-4 py-1 rounded-full text-sm font-bold border border-white/30 mb-3"><i class="fa-solid fa-plane-departure"></i> 2026.03.27 å‡ºç™¼</div>
                    <h1 class="text-5xl font-black mb-1 tracking-widest text-shadow-lg">é—œæ±ä¹‹æ—…</h1>
                    <p class="text-lg font-bold opacity-90 tracking-widest text-pink-100">8å¤©7å¤œ</p>
                </div>
                
                <div class="bg-white/70 backdrop-blur-xl p-5 rounded-[32px] shadow-xl border border-white/60 mb-16 pointer-events-auto">
                    <div class="grid grid-cols-3 gap-y-6 gap-x-4">
                        <div v-for="app in apps" :key="app.id" class="flex flex-col items-center cursor-pointer active:scale-95 transition" @click="changeView(app.view)">
                            <div class="w-14 h-14 rounded-2xl flex items-center justify-center text-2xl text-white shadow-md border-2 border-white" :class="app.bgClass"><i :class="app.icon"></i></div>
                            <span class="mt-2 text-xs font-bold text-gray-700">{{ app.name }}</span>
                        </div>
                    </div>
                </div>

                <div class="absolute bottom-8 left-1/2 -translate-x-1/2 w-11/12 max-w-sm pointer-events-auto">
                    <div class="bg-white/95 backdrop-blur-lg p-1.5 rounded-full shadow-2xl flex items-center border-2 border-pink-200">
                        <i class="fa-brands fa-google text-pink-400 ml-4 text-lg"></i>
                        <input v-model="searchQuery" @keyup.enter="doGoogleSearch" placeholder="æœå°‹æ±äº¬..." class="flex-1 bg-transparent border-none outline-none px-3 text-sm h-10 text-gray-600 font-bold">
                        <button @click="doGoogleSearch" class="bg-pink-400 text-white w-10 h-10 rounded-full flex items-center justify-center shadow-md active:scale-95"><i class="fa-solid fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <div v-if="currentView !== 'home'" class="fixed top-0 left-0 right-0 bg-[#FFF0F5]/95 backdrop-blur z-40 px-4 py-3 flex justify-between items-center shadow-sm h-16 border-b border-pink-100">
            <button @click="goHome" class="w-10 h-10 rounded-full bg-white text-pink-400 flex items-center justify-center border border-pink-100 active:scale-95"><i class="fa-solid fa-chevron-left"></i></button>
            <h1 class="font-bold text-gray-700 flex items-center gap-2 text-lg"><i class="fa-solid fa-sakura text-pink-400"></i> {{ getPageTitle(currentView) }}</h1>
            <button @click="showSyncModal = true" class="w-10 h-10 rounded-full text-blue-400 bg-white flex items-center justify-center border border-blue-100 active:scale-95"><i class="fa-solid fa-floppy-disk"></i></button>
        </div>
        <div v-if="currentView !== 'home'" class="h-16"></div>

        <div class="pb-24 relative min-h-screen">
            
            <div v-if="currentView === 'itinerary'" class="px-4">
                <div class="flex overflow-x-auto hide-scrollbar gap-2 mb-4 pb-2 sticky top-16 bg-[#FFF0F5] z-30 py-2">
                    <button v-for="(day, index) in tripDays" :key="index" @click="selectedDayIndex = index" :class="['flex-shrink-0 px-5 py-2 rounded-full text-sm font-bold border-2 transition', selectedDayIndex === index ? 'bg-pink-400 text-white border-pink-400' : 'bg-white text-gray-400 border-white']">{{ day.week }}<br><span class="text-[10px] opacity-80">{{ day.title }}</span></button>
                </div>
                <div class="space-y-4">
                    <div v-for="(item, idx) in currentDayItinerary" :key="item.id" class="card p-4 relative" @click="editItem(item, idx)">
                        <div class="absolute left-6 top-0 bottom-0 w-0.5 bg-pink-200"></div>
                        <div class="flex relative z-10">
                            <div class="flex flex-col items-center mr-4 pt-1"><div class="w-4 h-4 bg-white border-2 border-pink-400 rounded-full"></div><div class="mt-2 text-gray-300"><i :class="getIconByCategory(item.category)"></i></div></div>
                            <div class="flex-1">
                                <div class="flex justify-between mb-1"><span class="text-xs font-bold text-pink-500 bg-pink-50 px-2 py-0.5 rounded">{{ item.hours }}</span><div class="flex gap-2"><a :href="getMapLink(item.mapKeyword)" target="_blank" @click.stop class="w-6 h-6 bg-blue-50 text-blue-400 rounded-full flex items-center justify-center"><i class="fa-solid fa-location-arrow text-xs"></i></a><button @click.stop="deleteItem(idx)" class="text-gray-300"><i class="fa-solid fa-trash-can"></i></button></div></div>
                                <h3 class="font-bold text-gray-800 text-lg leading-tight">{{ item.name }}</h3>
                                <p class="text-sm text-gray-500 mt-1 pl-2 border-l-2 border-gray-100">{{ item.note }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <button @click="openAddModal" class="fab-main bg-pink-400"><i class="fa-solid fa-plus"></i></button>
            </div>

            <div v-if="currentView === 'money'" class="px-4">
                <div class="flex justify-between items-center mb-4 sticky top-16 bg-[#FFF0F5] z-30 py-2">
                    <div class="flex bg-white rounded-xl p-1 shadow-sm"><button @click="moneyTab='record'" :class="['px-4 py-1.5 rounded-lg text-sm font-bold', moneyTab==='record'?'bg-yellow-100 text-yellow-800':'text-gray-400']">è¨˜å¸³</button><button @click="moneyTab='split'" :class="['px-4 py-1.5 rounded-lg text-sm font-bold', moneyTab==='split'?'bg-blue-100 text-blue-800':'text-gray-400']">åˆ†å¸³</button></div>
                    <div class="text-xs font-bold text-gray-500 bg-white px-3 py-1 rounded-full border">åŒ¯ç‡: {{exchangeRate}}</div>
                </div>
                <div v-if="moneyTab === 'record'">
                    <div v-if="moneyMode === 'select'" class="grid grid-cols-2 gap-4">
                        <div v-for="user in users" :key="user.id" class="card p-4 text-center" @click="selectMoneyUser(user.id)">
                            <div class="w-16 h-16 mx-auto rounded-full bg-gray-100 overflow-hidden mb-2 text-3xl flex items-center justify-center"><img v-if="user.avatar" :src="user.avatar" class="w-full h-full object-cover"><span v-else>{{ user.icon }}</span></div>
                            <div class="font-bold text-gray-700">{{ user.name }}</div>
                        </div>
                    </div>
                    <div v-if="moneyMode === 'list'">
                        <div class="flex justify-between items-center mb-3"><h3 class="font-bold text-gray-700">{{ getUserById(currentUserId).name }} çš„å¸³æœ¬</h3><button @click="moneyMode='select'" class="text-xs bg-white px-3 py-1 rounded shadow">åˆ‡æ›</button></div>
                        <div class="card p-4 mb-4 bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200 border"><div class="text-xs text-yellow-600 font-bold">å€‹äººç¸½æ”¯å‡º</div><div class="text-2xl font-black text-gray-800">Â¥{{ Number(userPersonalTotal).toLocaleString() }}</div></div>
                        <div class="space-y-3"><div v-for="exp in personalExpenses" :key="exp.id" class="card p-3 flex justify-between items-center"><div><div class="font-bold text-gray-800 text-sm">{{ exp.name }}</div><div class="text-[10px] text-gray-400">{{ exp.date }}</div></div><div class="text-right font-bold text-gray-800">Â¥{{ Number(exp.amount).toLocaleString() }}<button @click="deleteExpense(exp.id)" class="text-red-300 ml-2 text-xs"><i class="fa-solid fa-trash"></i></button></div></div></div>
                        <button @click="openExpenseModal('personal')" class="fab-main bg-yellow-400 text-gray-800"><i class="fa-solid fa-pen"></i></button>
                    </div>
                </div>
                <div v-if="moneyTab === 'split'">
                    <div class="card p-4 border-l-4 border-blue-400 mb-4"><h3 class="font-bold mb-2">åˆ†å¸³çµæœ</h3><div v-if="settlements.length===0" class="text-sm text-gray-400">ç„¡é ˆåˆ†å¸³</div><div v-for="s in settlements" class="flex justify-between text-sm py-1 border-b border-gray-100 last:border-0"><span>{{getUserById(s.from).name}} <i class="fa-solid fa-arrow-right text-xs text-gray-300"></i> {{getUserById(s.to).name}}</span><span class="font-bold">Â¥{{s.amount}}</span></div></div>
                    <div class="text-sm font-bold text-gray-500 mb-2">å…¬å¸³æ˜ç´°</div>
                    <div class="space-y-2"><div v-for="exp in groupExpenses" :key="exp.id" class="bg-white p-3 rounded-lg border flex justify-between"><div><div class="font-bold text-sm">{{exp.name}}</div><div class="text-[10px] text-blue-400">{{getUserById(exp.user).name}} å…ˆä»˜</div></div><div class="text-right font-bold">Â¥{{Number(exp.amount).toLocaleString()}}<button @click="deleteExpense(exp.id)" class="text-red-300 ml-2"><i class="fa-solid fa-trash"></i></button></div></div></div>
                    <button @click="openExpenseModal('group')" class="fab-main bg-blue-400"><i class="fa-solid fa-users"></i></button>
                </div>
            </div>

            <div v-if="currentView === 'prep'" class="px-4">
                <div class="flex gap-2 mb-4 overflow-x-auto hide-scrollbar">
                    <button @click="prepTab='common'" :class="['px-4 py-2 rounded-full font-bold whitespace-nowrap', prepTab==='common'?'bg-blue-400 text-white':'bg-white text-gray-400']">é€šç”¨</button>
                    <button @click="prepTab='car'" :class="['px-4 py-2 rounded-full font-bold whitespace-nowrap', prepTab==='car'?'bg-green-400 text-white':'bg-white text-gray-400']">è‡ªé§•</button>
                    <button @click="prepTab='list'" :class="['px-4 py-2 rounded-full font-bold whitespace-nowrap', prepTab==='list'?'bg-pink-400 text-white':'bg-white text-gray-400']">æ¸…å–®</button>
                </div>
                <div v-if="prepTab==='common'" class="grid grid-cols-2 gap-3 mb-6">
                    <a href="https://vjw-lp.digital.go.jp/zh-hant/" target="_blank" class="bg-gradient-to-r from-blue-400 to-indigo-400 text-white p-4 rounded-3xl font-bold text-center shadow-lg"><i class="fa-solid fa-passport text-3xl mb-1"></i><div class="text-sm">VJW å…¥å¢ƒ</div></a>
                    <button @click="openTicketModal" class="bg-gradient-to-r from-yellow-400 to-orange-400 text-white p-4 rounded-3xl font-bold text-center shadow-lg"><i class="fa-solid fa-ticket text-3xl mb-1"></i><div class="text-sm">ç¥¨åˆ¸ç²¾éˆ</div></button>
                </div>
                <div v-if="prepTab==='car'" class="card p-5 border-l-4 border-green-400">
                    <h3 class="font-bold text-lg mb-2">å¯Œå£«å±±è‡ªé§•æ¨è–¦</h3>
                    <div class="grid gap-2 text-sm font-bold">
                        <a href="https://www2.tocoo.jp/cn" target="_blank" class="block bg-gray-50 p-3 rounded hover:bg-green-50">ğŸš— ToCoo! æ¯”åƒ¹</a>
                        <a href="https://rent.toyota.co.jp/zh-tw/" target="_blank" class="block bg-gray-50 p-3 rounded hover:bg-green-50">ğŸš™ Toyota Rent a Car</a>
                    </div>
                </div>
                <div v-if="prepTab==='list'">
                    <div v-if="prepMode==='select'" class="grid grid-cols-2 gap-4">
                        <div v-for="user in users" :key="user.id" class="card p-4" @click="selectPrepUser(user.id)">
                            <div class="flex justify-between items-center mb-2"><div class="font-bold">{{user.name}}</div><div class="text-2xl">{{user.icon}}</div></div>
                            <div class="h-2 bg-gray-100 rounded-full overflow-hidden"><div class="h-full bg-pink-400" :style="{width: getProgress(user.id)+'%'}"></div></div>
                        </div>
                    </div>
                    <div v-if="prepMode==='list'">
                        <div class="flex justify-between mb-4"><h3 class="font-bold text-xl">{{getUserById(prepUser).name}} çš„æ¸…å–®</h3><button @click="prepMode='select'" class="bg-white px-3 py-1 rounded shadow text-xs">è¿”å›</button></div>
                        <div class="card p-4 min-h-[300px] mb-20">
                            <div v-for="(item, idx) in currentPrepList" :key="idx" class="flex items-center gap-3 py-3 border-b border-dashed"><input type="checkbox" v-model="item.checked" class="w-5 h-5"><span :class="{'line-through text-gray-300':item.checked}">{{item.text}}</span><button @click="currentPrepList.splice(idx,1)" class="ml-auto text-gray-300"><i class="fa-solid fa-xmark"></i></button></div>
                            <button @click="addPrepItem" class="w-full mt-4 py-2 border-2 border-dashed rounded text-gray-400 font-bold">+ æ–°å¢</button>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentView === 'weather'" class="px-4 relative">
                <div class="fixed top-20 right-4 z-40 bg-white/90 backdrop-blur p-3 rounded-2xl shadow-lg border-2 border-pink-200 text-center animate-float">
                    <div class="text-xs text-gray-400 font-bold">2026 æ«»èŠ±é æ¸¬</div><div class="text-xl">ğŸŒ¸</div><div class="text-sm font-bold text-pink-500">{{sakuraStatus}}</div>
                    <div class="flex flex-col gap-1 mt-2">
                        <a href="https://n-kishou.com/corp/news-contents/sakura/" target="_blank" class="text-[10px] bg-pink-100 text-pink-600 px-2 py-1 rounded font-bold">æ°£è±¡æ ªå¼æœƒç¤¾</a>
                        <a href="https://weathernews.jp/s/sakura/" target="_blank" class="text-[10px] bg-blue-100 text-blue-600 px-2 py-1 rounded font-bold">Weathernews</a>
                    </div>
                </div>
                <div class="space-y-4 pt-4">
                    <div v-for="w in [{t:'æ±äº¬',d:tokyoWeather},{t:'éŒå€‰',d:kamakuraWeather},{t:'å¯Œå£«å±±',d:fujiWeather}]" class="card p-5 border-l-4 border-sky-400">
                        <div class="flex justify-between items-center"><div><div class="font-bold text-gray-500 text-xs">{{w.t}}</div><div class="text-4xl font-black text-gray-800">{{w.d.temp}}Â°</div></div><div class="text-4xl">{{w.d.icon}}</div></div>
                        <div class="mt-3 bg-sky-50 p-2 rounded text-xs text-gray-600"><strong>ç©¿æ­ï¼š</strong>{{getClothingAdvice(w.d.temp)}}</div>
                    </div>
                </div>
            </div>

            <div v-if="['food','shopping','photo'].includes(currentView)" class="px-4">
                <div v-if="currentView==='food'" class="flex gap-2 mb-4 overflow-x-auto hide-scrollbar justify-center"><button v-for="loc in ['Tokyo','Kamakura','Fuji']" @click="foodLoc=loc" :class="['px-4 py-1.5 rounded-full text-sm font-bold', foodLoc===loc?'bg-orange-400 text-white':'bg-white text-gray-400']">{{loc}}</button></div>
                <div v-if="currentView==='shopping'" class="flex gap-2 mb-4 overflow-x-auto hide-scrollbar justify-center"><button v-for="cat in ['wish','cosme','ldk','souvenir']" @click="shopCat=cat" :class="['px-4 py-1.5 rounded-full text-sm font-bold', shopCat===cat?'bg-pink-400 text-white':'bg-white text-gray-400']">{{cat}}</button></div>
                <div v-if="currentView==='photo'" class="flex gap-2 mb-4 overflow-x-auto hide-scrollbar justify-center"><button v-for="area in ['Tokyo','Kamakura','Fuji']" @click="photoArea=area" :class="['px-4 py-1.5 rounded-full text-sm font-bold', photoArea===area?'bg-rose-400 text-white':'bg-white text-gray-400']">{{area}}</button></div>
                
                <div class="grid grid-cols-1 gap-4">
                    <div v-for="(item, idx) in getCurrentList()" :key="item.id || idx" class="card overflow-hidden">
                        <div class="h-48 relative bg-gray-200" @click="openImage(item.img)">
                            <img :src="item.img" class="w-full h-full object-cover" @error="handleImgError($event)">
                            <div class="absolute top-2 right-2 flex gap-2">
                                <button @click.stop="editCommonItem(item, idx)" class="w-8 h-8 bg-white rounded-full flex items-center justify-center shadow"><i class="fa-solid fa-pen text-blue-400"></i></button>
                                <button @click.stop="deleteCommonItem(idx)" class="w-8 h-8 bg-white rounded-full flex items-center justify-center shadow"><i class="fa-solid fa-trash text-red-400"></i></button>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-lg">{{item.name}}</h3>
                            <p class="text-sm text-gray-500 mb-3">{{item.desc}}</p>
                            <a v-if="item.link" :href="item.link" target="_blank" class="block text-center bg-blue-500 text-white py-2 rounded-lg font-bold text-sm">å°èˆª / é€£çµ</a>
                        </div>
                    </div>
                </div>
                <button @click="openAddCommonModal(currentView)" class="fab-main bg-gray-800"><i class="fa-solid fa-plus"></i></button>
            </div>

            <div v-if="currentView === 'hotel'" class="px-4">
                <div class="flex gap-2 mb-4 justify-center"><button @click="hotelTab='stay'" :class="['px-6 py-2 rounded-full font-bold shadow-sm', hotelTab==='stay'?'bg-indigo-400 text-white':'bg-white text-gray-400']">ä½å®¿</button><button @click="hotelTab='flight'" :class="['px-6 py-2 rounded-full font-bold shadow-sm', hotelTab==='flight'?'bg-pink-400 text-white':'bg-white text-gray-400']">æ©Ÿç¥¨</button></div>
                <div v-if="hotelTab==='stay'" class="space-y-4">
                    <div v-for="h in hotels" class="card p-5 border-l-4 border-indigo-400">
                        <div class="text-xs text-indigo-500 font-bold mb-1">{{h.days}}</div>
                        <h3 class="font-bold text-xl">{{h.name}}</h3>
                        <a :href="h.link" target="_blank" class="block mt-3 bg-indigo-50 text-indigo-600 text-center py-2 rounded font-bold text-sm">åœ°åœ–å°èˆª</a>
                    </div>
                </div>
                <div v-if="hotelTab==='flight'">
                    <div v-if="flightMode==='select'" class="grid grid-cols-2 gap-4">
                        <div v-for="user in users" class="card p-4 text-center" @click="currentFlightUser=user.id; flightMode='list'">
                            <div class="text-4xl mb-2">{{user.icon}}</div>
                            <div class="font-bold text-gray-600">{{user.name}}</div>
                        </div>
                    </div>
                    <div v-if="flightMode==='list'">
                        <div class="flex justify-between items-center mb-4"><h3 class="font-bold text-lg">{{getUserById(currentFlightUser).name}} çš„æ©Ÿç¥¨</h3><button @click="flightMode='select'" class="text-xs bg-white px-3 py-1 rounded shadow">åˆ‡æ›</button></div>
                        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 mb-4">
                            <div class="bg-pink-400 text-white text-xs font-bold px-4 py-1">å»ç¨‹ OUTBOUND</div>
                            <div class="p-4 flex justify-between items-center">
                                <div class="text-center"><div class="text-2xl font-black">TPE</div><div class="text-xs">æ¡ƒåœ’</div></div>
                                <div class="text-center px-2"><i class="fa-solid fa-plane text-pink-300"></i><div class="text-[10px] text-gray-400">BR198</div></div>
                                <div class="text-center"><div class="text-2xl font-black">NRT</div><div class="text-xs">æˆç”°</div></div>
                            </div>
                            <div class="border-t border-dashed border-gray-300 mx-4"></div>
                            <div class="p-4 flex justify-between text-sm font-bold text-gray-600"><div>08:50</div><div>13:15</div></div>
                        </div>
                        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
                            <div class="bg-blue-400 text-white text-xs font-bold px-4 py-1">å›ç¨‹ INBOUND</div>
                            <div class="p-4 flex justify-between items-center">
                                <div class="text-center"><div class="text-2xl font-black">NRT</div><div class="text-xs">æˆç”°</div></div>
                                <div class="text-center px-2"><i class="fa-solid fa-plane fa-rotate-180 text-blue-300"></i><div class="text-[10px] text-gray-400">BR197</div></div>
                                <div class="text-center"><div class="text-2xl font-black">TPE</div><div class="text-xs">æ¡ƒåœ’</div></div>
                            </div>
                            <div class="border-t border-dashed border-gray-300 mx-4"></div>
                            <div class="p-4 flex justify-between text-sm font-bold text-gray-600"><div>14:15</div><div>17:05</div></div>
                        </div>
                    </div>
                </div>
            </div>

        </div> <div v-if="showModal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm"><div class="bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl"><h3 class="font-bold text-lg mb-4 text-center">{{isEditing?'ç·¨è¼¯':'æ–°å¢'}}</h3><input v-model="editForm.name" placeholder="åç¨±" class="w-full p-2 border rounded mb-2"><div class="flex gap-2 mb-2"><input v-model="editForm.hours" placeholder="æ™‚é–“" class="w-1/3 p-2 border rounded"><select v-model="editForm.category" class="flex-1 p-2 border rounded"><option value="Sightseeing">æ™¯é»</option><option value="Food">ç¾é£Ÿ</option><option value="Shopping">è³¼ç‰©</option><option value="Transport">äº¤é€š</option></select></div><input v-model="editForm.mapKeyword" placeholder="åœ°åœ–é—œéµå­—" class="w-full p-2 border rounded mb-2"><textarea v-model="editForm.note" class="w-full p-2 border rounded h-20 mb-4" placeholder="å‚™è¨»"></textarea><div class="flex gap-2"><button @click="showModal=false" class="flex-1 bg-gray-100 py-2 rounded">å–æ¶ˆ</button><button @click="saveItem" class="flex-1 bg-pink-400 text-white py-2 rounded">å„²å­˜</button></div></div></div>
        <div v-if="showCommonModal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm"><div class="bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl"><h3 class="font-bold text-lg mb-4 text-center">{{isEditing?'ç·¨è¼¯':'æ–°å¢'}}</h3><input v-model="newCommon.text1" placeholder="åç¨±" class="w-full p-2 border rounded mb-2"><textarea v-model="newCommon.text2" class="w-full p-2 border rounded h-20 mb-2" placeholder="æè¿°"></textarea><input type="file" @change="processCommonImageUpload" class="text-sm mb-4"><div class="flex gap-2"><button @click="showCommonModal=false" class="flex-1 bg-gray-100 py-2 rounded">å–æ¶ˆ</button><button @click="saveCommonItem" class="flex-1 bg-blue-400 text-white py-2 rounded">å„²å­˜</button></div></div></div>
        <div v-if="showExpenseModal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm"><div class="bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl"><h3 class="font-bold text-lg mb-4 text-center">è¨˜å¸³</h3><input v-model="newExpense.name" placeholder="é …ç›®" class="w-full p-2 border rounded mb-2"><input type="number" v-model="newExpense.amount" placeholder="é‡‘é¡" class="w-full p-2 border rounded mb-2"><select v-model="newExpense.currency" class="w-full p-2 border rounded mb-2"><option value="JPY">JPY</option><option value="TWD">TWD</option></select><div class="flex gap-2 mb-4 overflow-x-auto"><button v-for="u in users" @click="currentUserId=u.id" :class="['px-3 py-1 border rounded text-xs', currentUserId===u.id?'bg-yellow-200':'bg-white']">{{u.name}}</button></div><div class="flex gap-2"><button @click="showExpenseModal=false" class="flex-1 bg-gray-100 py-2 rounded">å–æ¶ˆ</button><button @click="addExpense" class="flex-1 bg-yellow-400 text-gray-800 py-2 rounded">å„²å­˜</button></div></div></div>
    
    </div> <script>
        // Data Fallback
        const defaultData = {
            itinerary: [[{ id: 1, category: 'Flight', name: '06:40 æ¡ƒåœ’èµ·é£›', hours: '06:40', mapKeyword: 'æ¡ƒåœ’æ©Ÿå ´', note: 'ææ—©2å°æ™‚' }]],
            users: [{id: 1, name: 'å‰ä¼Š', bg: '#FFD1DC', icon:'ğŸ¹', list:['è­·ç…§']}, {id: 2, name: 'å°å…«', bg: '#A2D2FF', icon:'ğŸ±', list:['è­·ç…§']}, {id: 3, name: 'å…”å…”', bg: '#FFF5BA', icon:'ğŸ°', list:['è­·ç…§']}, {id: 4, name: 'å°æ¡ƒ', bg: '#FFB7B2', icon:'ğŸ‘', list:['è­·ç…§']}],
            lists: { food:{'Tokyo':[]}, shopping:{'wish':[]}, photo:{'Tokyo':[]} }
        };

        const { createApp, ref, computed, onMounted, watch } = Vue;

        createApp({
            setup() {
                const currentView = ref('home');
                const isMounted = ref(false);
                const showModal = ref(false);
                const showCommonModal = ref(false);
                const showExpenseModal = ref(false);
                const showSyncModal = ref(false);
                const showTicketModal = ref(false);
                
                // State
                const homeBannerImg = ref('2026.tokyo.jpg');
                const searchQuery = ref('');
                const tripDays = [{ week: 'Day 1', title: 'æŠµé”' }, { week: 'Day 2', title: 'æ·ºè‰' }, { week: 'Day 3', title: 'æ²³å£æ¹–' }, { week: 'Day 4', title: 'å±±ä¸­æ¹–' }, { week: 'Day 5', title: 'æ–°å®¿' }, { week: 'Day 6', title: 'éŒå€‰' }, { week: 'Day 7', title: 'æ¾€è°·' }, { week: 'Day 8', title: 'è¿”ç¨‹' }];
                const selectedDayIndex = ref(0);
                const itineraryData = ref(defaultData.itinerary);
                const users = ref(defaultData.users);
                const expenses = ref([]);
                const foodList = ref(defaultData.lists.food);
                const shoppingList = ref(defaultData.lists.shopping);
                const photoSpots = ref(defaultData.lists.photo);
                const daysUntilTrip = ref(100);
                
                // Form Vars
                const editForm = ref({});
                const newCommon = ref({text1:'', text2:'', text3:''});
                const newExpense = ref({name:'', amount:'', currency:'JPY'});
                const isEditing = ref(false);
                const editIndex = ref(-1);
                const commonType = ref('');
                const expenseType = ref('personal');
                const currentUserId = ref(1);
                
                // View specific vars
                const moneyTab = ref('record');
                const moneyMode = ref('select');
                const prepTab = ref('common');
                const prepMode = ref('select');
                const prepUser = ref(1);
                const hotelTab = ref('stay');
                const flightMode = ref('select');
                const currentFlightUser = ref(1);
                const foodLoc = ref('Tokyo');
                const shopCat = ref('wish');
                const photoArea = ref('Tokyo');
                
                // Weather
                const tokyoWeather = ref({temp:'--', icon:'â˜ï¸'});
                const kamakuraWeather = ref({temp:'--', icon:'â˜ï¸'});
                const fujiWeather = ref({temp:'--', icon:'â˜ï¸'});
                const sakuraStatus = ref('é æ¸¬ä¸­');
                const exchangeRate = ref(0.22);

                // Computed
                const currentDayItinerary = computed(() => itineraryData.value[selectedDayIndex.value] || []);
                const getUserById = (id) => users.value.find(u => u.id === id) || users.value[0];
                const currentPrepList = computed(() => { const u = getUserById(prepUser.value); return u.list ? u.list.map(i => typeof i === 'string' ? {text:i, checked:false} : i) : []; });
                const getCurrentList = () => { if(currentView.value==='food') return foodList.value[foodLoc.value]||[]; if(currentView.value==='shopping') return shoppingList.value[shopCat.value]||[]; if(currentView.value==='photo') return photoSpots.value[photoArea.value]||[]; return []; };
                
                // Money Computed
                const personalExpenses = computed(() => expenses.value.filter(e => e.user === currentUserId.value && e.type === 'personal'));
                const groupExpenses = computed(() => expenses.value.filter(e => e.type === 'group'));
                const userPersonalTotal = computed(() => personalExpenses.value.reduce((s,e) => s + Number(e.amount), 0));
                const settlements = computed(() => { return []; }); // Simplified for rescue mode

                // Drag Logic
                const countdownPos = ref({x:20, y:150});
                const startDrag = (e) => { 
                    const el = e.target.closest('.fixed');
                    if(!el) return;
                    // Simple drag impl
                    const touch = e.touches ? e.touches[0] : e;
                    const offsetX = touch.clientX - countdownPos.value.x;
                    const offsetY = touch.clientY - countdownPos.value.y;
                    
                    const move = (ev) => {
                        const t = ev.touches ? ev.touches[0] : ev;
                        countdownPos.value.x = t.clientX - offsetX;
                        countdownPos.value.y = t.clientY - offsetY;
                    };
                    const stop = () => {
                        document.removeEventListener('touchmove', move);
                        document.removeEventListener('mousemove', move);
                    };
                    document.addEventListener('touchmove', move);
                    document.addEventListener('mousemove', move);
                    document.addEventListener('touchend', stop);
                    document.addEventListener('mouseup', stop);
                };

                // Methods
                const goHome = () => currentView.value = 'home';
                const changeView = (v) => currentView.value = v;
                const getPageTitle = (v) => v.toUpperCase();
                const getIconByCategory = (c) => 'fa-star';
                const getMapLink = (k) => `https://www.google.com/maps/search/?api=1&query=${k}`;
                const handleImgError = (e) => e.target.src = 'https://placehold.co/600x400/FFD1DC/555?text=Image';
                const doGoogleSearch = () => { if(searchQuery.value) window.open(getMapLink(searchQuery.value)); };
                
                // CRUD
                const openAddModal = () => { isEditing.value=false; editForm.value={category:'Sightseeing'}; showModal.value=true; };
                const editItem = (item, idx) => { isEditing.value=true; editIndex.value=idx; editForm.value={...item}; showModal.value=true; };
                const saveItem = () => { 
                    if(!itineraryData.value[selectedDayIndex.value]) itineraryData.value[selectedDayIndex.value] = [];
                    if(isEditing.value) Object.assign(itineraryData.value[selectedDayIndex.value][editIndex.value], editForm.value);
                    else itineraryData.value[selectedDayIndex.value].push({...editForm.value, id:Date.now()});
                    showModal.value=false;
                };
                const deleteItem = (idx) => { if(confirm('åˆªé™¤?')) itineraryData.value[selectedDayIndex.value].splice(idx,1); };
                
                const openAddCommonModal = (t) => { commonType.value=t; isEditing.value=false; newCommon.value={text1:'', text2:'', text3:''}; showCommonModal.value=true; };
                const editCommonItem = (item, idx) => { isEditing.value=true; editIndex.value=idx; newCommon.value={text1:item.name, text2:item.desc, text3:item.img}; showCommonModal.value=true; };
                const deleteCommonItem = (idx) => { if(confirm('åˆªé™¤?')) getCurrentList().splice(idx,1); };
                const saveCommonItem = () => {
                    const list = getCurrentList();
                    const item = { name: newCommon.value.text1, desc: newCommon.value.text2, img: newCommon.value.text3 || 'https://placehold.co/400x400' };
                    if(isEditing.value) Object.assign(list[editIndex.value], item);
                    else list.push(item);
                    showCommonModal.value=false;
                };
                
                const openExpenseModal = (t) => { expenseType.value=t; newExpense.value={amount:'', currency:'JPY'}; showExpenseModal.value=true; };
                const addExpense = () => { expenses.value.push({...newExpense.value, id:Date.now(), user:currentUserId.value, type:expenseType.value, date:'Today'}); showExpenseModal.value=false; };
                const deleteExpense = (id) => { expenses.value = expenses.value.filter(e=>e.id!==id); };
                const selectMoneyUser = (id) => { currentUserId.value=id; moneyMode.value='list'; };
                const selectPrepUser = (id) => { prepUser.value=id; prepMode.value='list'; };
                const addPrepItem = () => { const t = prompt('é …ç›®'); if(t) getUserById(prepUser.value).list.push({text:t, checked:false}); };
                const getProgress = () => 50; // Mock
                const getClothingAdvice = (t) => 'æ´‹è”¥å¼ç©¿æ­';
                const processCommonImageUpload = (e) => {
                    const reader = new FileReader();
                    reader.onload = (ev) => newCommon.value.text3 = ev.target.result;
                    reader.readAsDataURL(e.target.files[0]);
                };

                // Lifecycle
                onMounted(() => {
                    try {
                        const saved = localStorage.getItem(STORAGE_KEY);
                        if(saved) {
                            const d = JSON.parse(saved);
                            itineraryData.value = d.itinerary || defaultItinerary;
                            // Load other data...
                        } else {
                            // Load default hardcoded data if storage empty
                            itineraryData.value = defaultItinerary;
                        }
                    } catch(e) { console.error(e); }

                    // FORCE UNLOCK LOADER
                    setTimeout(() => {
                        const loader = document.getElementById('static-loading');
                        if(loader) {
                            loader.style.opacity = '0';
                            setTimeout(() => { 
                                loader.style.display = 'none';
                                document.getElementById('app').style.display = 'block';
                                setTimeout(() => document.getElementById('app').style.opacity = '1', 50);
                            }, 500);
                        }
                    }, 1500);
                });

                watch(itineraryData, () => {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify({itinerary: itineraryData.value}));
                }, {deep: true});

                return {
                    currentView, homeBannerImg, apps, goHome, changeView, getPageTitle, handleImgError,
                    countdownPos, startDrag, daysUntilTrip, searchQuery, doGoogleSearch,
                    tripDays, selectedDayIndex, currentDayItinerary, getIconByCategory, getMapLink,
                    openAddModal, showModal, editForm, saveItem, deleteItem, editItem,
                    moneyTab, moneyMode, users, currentUserId, selectMoneyUser, getUserById,
                    userPersonalTotal, personalExpenses, groupExpenses, settlements, openExpenseModal, showExpenseModal, newExpense, addExpense, deleteExpense, exchangeRate,
                    prepTab, prepMode, selectPrepUser, prepUser, currentPrepList, addPrepItem, getProgress,
                    hotelTab, hotels, flightMode, currentFlightUser,
                    foodLoc, shopCat, photoArea, getCurrentList, openAddCommonModal, showCommonModal, newCommon, saveCommonItem, isEditing, processCommonImageUpload, editCommonItem, deleteCommonItem,
                    tokyoWeather, kamakuraWeather, fujiWeather, sakuraStatus, getClothingAdvice,
                    showSyncModal, showTicketModal
                };
            }
        }).mount('#app');
        
        // Hardcoded Data to prevent crash
        const hotels = [{name:'éŒ¦ç³¸ç”º', days:'Day 1-2', link:'#'}, {name:'Megu Fuji', days:'Day 3-4', link:'#'}, {name:'DOMO', days:'Day 5-7', link:'#'}];
        const suggestedTickets = [{name:'æ±Ÿä¹‹é›»', reason:'éŒå€‰è¡Œç¨‹'}, {name:'å¯Œå£«å›éŠ', reason:'æ²³å£æ¹–'}];
        const defaultItinerary = [
                [{ id: 101, category: 'Flight', name: '06:40 æ¡ƒåœ’èµ·é£›', hours: '06:40', mapKeyword: 'æ¡ƒåœ’æ©Ÿå ´', note: 'ææ—©2å°æ™‚æŠµé”æ©Ÿå ´' }, { id: 102, category: 'Flight', name: '10:40 æŠµé”æˆç”°æ©Ÿå ´', hours: '10:40', mapKeyword: 'æˆç”°æ©Ÿå ´', note: 'é ˜å–è¡Œæã€è³¼è²·äº¤é€šå¡' }, { id: 103, category: 'Sightseeing', name: 'æ™´ç©ºå¡” Tokyo Skytree', hours: 'ä¸‹åˆ', mapKeyword: 'Tokyo Skytree', note: 'å¯é€› Solamachi å•†åº—è¡—' }, { id: 104, category: 'Food', name: 'æ™šé¤ï¼šéŒ¦ç³¸ç”ºå‘¨é­', hours: 'æ™šä¸Š', mapKeyword: 'éŒ¦ç³¸ç”ºç¾é£Ÿ', note: 'ä¾ç…§ç•¶ä¸‹å¿ƒæƒ…é¸æ“‡' }],
                [{ id: 201, category: 'Sightseeing', name: 'æ·ºè‰å¯º', hours: 'ä¸Šåˆ', mapKeyword: 'æ·ºè‰å¯º', note: 'é›·é–€ã€ä»²è¦‹ä¸–é€š' }, { id: 202, category: 'Food', name: 'åˆé¤ï¼šæ·ºè‰å¯ºå‘¨é­', hours: 'ä¸­åˆ', mapKeyword: 'æ·ºè‰åˆé¤', note: 'æ¨è–¦ç‚¸è‚‰é¤…ã€é°»é­šé£¯' }, { id: 203, category: 'Sightseeing', name: 'å°ç¶²ç¥ç¤¾', hours: 'ä¸‹åˆ', mapKeyword: 'å°ç¶²ç¥ç¤¾', note: 'å¼·é‹å„é™¤' }, { id: 204, category: 'Sightseeing', name: 'ä¸Šé‡æ©è³œå…¬åœ’', hours: 'ä¸‹åˆ', mapKeyword: 'ä¸Šé‡æ©è³œå…¬åœ’', note: 'æ•£æ­¥ã€æ˜Ÿå·´å…‹' }, { id: 205, category: 'Shopping', name: 'ç§‹è‘‰åŸ æˆ– æ±äº¬ä¸€ç•ªè¡—', hours: 'æ™šä¸Š', mapKeyword: 'æ±äº¬ç«™ä¸€ç•ªè¡—', note: 'å‹•æ¼«å‘¨é‚Š / ä¼´æ‰‹ç¦®' }],
                [{ id: 301, category: 'Transport', name: 'å‰å¾€å¯Œå£«å±± (ç§Ÿè»Š)', hours: 'ä¸Šåˆ', mapKeyword: 'æ²³å£æ¹–ç§Ÿè»Š', note: 'å¾éŒ¦ç³¸ç”ºå‡ºç™¼ï¼Œé–‹å§‹3å¤©2å¤œè‡ªé§•' }, { id: 302, category: 'Sightseeing', name: 'æ²³å£æ¹–è‡ªç„¶ç”Ÿæ´»é¤¨', hours: 'ä¸‹åˆ', mapKeyword: 'æ²³å£æ¹–è‡ªç„¶ç”Ÿæ´»é¤¨' }, { id: 303, category: 'Sightseeing', name: 'æ–°å€‰å¯Œå£«æ·ºé–“ç¥ç¤¾', hours: 'ä¸‹åˆ', mapKeyword: 'æ–°å€‰å¯Œå£«æ·ºé–“ç¥ç¤¾' }, { id: 304, category: 'Sightseeing', name: 'é‡‘é³¥å±… & æœ¬ç”ºå•†åº—è¡—', hours: 'å‚æ™š', mapKeyword: 'å¯Œå£«å‰ç”°æœ¬ç”ºé€šã‚Š' }, { id: 305, category: 'Food', name: 'æ™šé¤ï¼šè‡ªç‚Šæˆ–å•†åº—è¡—', hours: 'æ™šä¸Š', mapKeyword: 'å¯Œå£«å‰ç”°æ™šé¤' }],
                [{ id: 401, category: 'Sightseeing', name: 'å¹³é‡ä¹‹æ¿±æ—¥å‡º', hours: 'æ¸…æ™¨', mapKeyword: 'å¹³é‡ä¹‹æ¿±', note: 'çµ•ç¾é€†å¯Œå£«' }, { id: 402, category: 'Sightseeing', name: 'é•·æ± è¦ªæ°´å…¬åœ’ & ç™½é³¥æ¿±', hours: 'ä¸Šåˆ', mapKeyword: 'é•·æ± è¦ªæ°´å…¬åœ’', note: 'é¤µå¤©éµã€æ‹ç¾ç…§' }, { id: 403, category: 'Transport', name: 'ç§Ÿè‡ªè¡Œè»Šç’°æ¹–', hours: 'ä¸Šåˆ', mapKeyword: 'å±±ä¸­æ¹–è‡ªè¡Œè»Šç§Ÿå€Ÿ', note: 'äº«å—æ¹–ç•”å¾®é¢¨' }, { id: 404, category: 'Food', name: 'åˆé¤ï¼šå±±ä¸­æ¹–é¤å»³', hours: 'ä¸­åˆ', mapKeyword: 'å±±ä¸­æ¹–ç¾é£Ÿ' }, { id: 405, category: 'Sightseeing', name: 'KABA æ°´é™¸å·´å£«', hours: 'ä¸‹åˆ', mapKeyword: 'å±±ä¸­æ¹–KABA' }, { id: 406, category: 'Shopping', name: 'Ogino è¶…å¸‚æ¡è²·', hours: 'å‚æ™š', mapKeyword: 'Ogino æ²³å£æ¹–åº—', note: 'æ™šé¤é£Ÿæ' }],
                [{ id: 501, category: 'Sightseeing', name: 'é‡‘é³¥å±… (è£œæ‹)', hours: 'æ—©ä¸Š', mapKeyword: 'é‡‘é³¥å±…', note: 'è‹¥å‰å…©å¤©æ²’æ‹åˆ°' }, { id: 502, category: 'Sightseeing', name: 'æ²³å£æ¹–çºœè»Š & çµ•æ™¯é¦éŸ†', hours: 'æ—©ä¸Š', mapKeyword: 'æ²³å£æ¹–å¯Œå£«å±±å…¨æ™¯çºœè»Š' }, { id: 503, category: 'Shopping', name: 'Fujisan Shokupan', hours: 'ä¸­åˆ', mapKeyword: 'Fujisan Shokupan', note: 'è³¼è²·å¯Œå£«å±±åå¸' }, { id: 504, category: 'Transport', name: 'æ­ä¹˜å¯Œå£«å›éŠè¿”æ–°å®¿', hours: 'ä¸‹åˆ', mapKeyword: 'æ²³å£æ¹–ç«™', note: 'é‚„è»Šå¾Œæ­è»Š' }, { id: 505, category: 'Shopping', name: 'æ± è¢‹å¤ªé™½åŸ', hours: 'æ™šä¸Š', mapKeyword: 'æ± è¢‹å¤ªé™½åŸ', note: 'è³¼ç‰©ã€æ™šé¤' }],
                [{ id: 601, category: 'Transport', name: 'æ–°å®¿å‰å¾€è—¤æ¾¤', hours: 'ä¸Šåˆ', mapKeyword: 'è—¤æ¾¤ç«™', note: 'æ±Ÿä¹‹é›»ä¸€æ—¥éŠé–‹å§‹' }, { id: 602, category: 'Sightseeing', name: 'æ±Ÿä¹‹å³¶', hours: 'ä¸Šåˆ', mapKeyword: 'æ±Ÿä¹‹å³¶', note: 'åƒé“ã€ç¥ç¤¾' }, { id: 603, category: 'Sightseeing', name: 'éŒå€‰é«˜æ ¡å‰', hours: 'ä¸­åˆ', mapKeyword: 'éŒå€‰é«˜æ ¡å‰é§…', note: 'çŒç±ƒé«˜æ‰‹å¹³äº¤é“' }, { id: 604, category: 'Sightseeing', name: 'ä¸ƒé‡Œæ¿± & åˆé¤', hours: 'ä¸‹åˆ', mapKeyword: 'ä¸ƒé‡Œæ¿±', note: 'Bills æˆ–å‘¨é‚Šé¤å»³' }, { id: 605, category: 'Sightseeing', name: 'éŒå€‰', hours: 'å‚æ™š', mapKeyword: 'éŒå€‰å°ç”ºé€š', note: 'é€›è¡—ã€å¤§ä½›' }],
                [{ id: 701, category: 'Sightseeing', name: 'æ±äº¬éµå¡”', hours: 'ä¸Šåˆ', mapKeyword: 'èŠå…¬åœ’', note: 'æ‹ç…§é»ï¼šèŠå…¬åœ’' }, { id: 702, category: 'Sightseeing', name: 'å…­æœ¬æœ¨ / éº»å¸ƒå°', hours: 'ä¸­åˆ', mapKeyword: 'éº»å¸ƒå°ä¹‹ä¸˜', note: 'åˆé¤åœ¨æ­¤è§£æ±º' }, { id: 703, category: 'Sightseeing', name: 'å‰å¾€æ¾€è°·', hours: 'ä¸‹åˆ', mapKeyword: 'æ¾€è°·', note: 'é€›è¡—' }, { id: 704, category: 'Sightseeing', name: 'SHIBUYA SKY', hours: 'å‚æ™š', mapKeyword: 'SHIBUYA SKY', note: 'éœ€é ç´„å¤•é™½æ™‚æ®µ' }, { id: 705, category: 'Shopping', name: 'æ¾€è°·æœ€å¾Œæ¡è²·', hours: 'æ™šä¸Š', mapKeyword: 'æ¾€è°·åå­—è·¯å£', note: 'è—¥å¦ã€å”å‰è¨¶å¾·' }],
                [{ id: 801, category: 'Sightseeing', name: 'è‡ªç”±è¡Œç¨‹', hours: 'ç™½å¤©', mapKeyword: '', note: 'è£œè²¨æˆ–ä¼‘æ¯' }, { id: 802, category: 'Flight', name: '20:40 æˆç”°èµ·é£›', hours: '20:40', mapKeyword: 'æˆç”°æ©Ÿå ´', note: 'ææ—©æŠµé”æ©Ÿå ´' }, { id: 803, category: 'Flight', name: '23:20 æŠµé”æ¡ƒåœ’', hours: '23:20', mapKeyword: 'æ¡ƒåœ’æ©Ÿå ´', note: 'å¹³å®‰å›å®¶' }]
            ];
    </script>
</body>
</html>
